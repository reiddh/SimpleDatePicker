function datepicker(e){function t(){var e=c=dateObject.getDayOfWeekMonthStarts();g.innerHTML=dateObject.getLongMonth()+" "+dateObject.getYear();var t=document.createElement("table"),a=document.createElement("tr");null!=l.firstChild&&(l.innerHTML="");for(var r=1;5>=r;r++){for(var a=document.createElement("tr"),d=1;7>=d;d++){var i=document.createElement("td"),o=document.createElement("a");o.addEventListener("click",n,!1),o.className="dayNum",c>d&&1==r?i.innerHTML="":c++-e<dateObject.getNumdays()&&(o.innerHTML=c-e,i.appendChild(o)),a.appendChild(i)}t.appendChild(a)}t.appendChild(a),l.appendChild(t)}function n(e){d.value=dateObject.getYear()+"-"+dateObject.getLongMonth().substr(0,3)+"-"+("0"+e.target.innerHTML).slice(-2),i.style.display="none"}function a(e,t){for(;e.parentNode;){if(e==t)return!0;e=e.parentNode}return!1}function r(e){switch(e.target.id){case"nextClick":dateObject.date=new Date(dateObject.getYear(),dateObject.getMonth()+1,1);break;case"prevClick":dateObject.date=new Date(dateObject.getYear(),dateObject.getMonth()-1,1)}t()}var d,c,i=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div"),s=function(e,t){var n=document.createElement("a");return n.innerHTML=e,n.id=t,n.addEventListener("click",r,!0),n};u.className="triangle-up",i.className="calendarContainer",i.appendChild(o),o.className="calTop",l.className="calBody",i.appendChild(u);var h=document.createElement("table"),p=document.createElement("tr");p.className="firstTr";var m=document.createElement("td");m.appendChild(new s("<<","prevClick")),p.appendChild(m);var g=document.createElement("td");g.colSpan="5",g.style.width="124px",p.appendChild(g);var m=document.createElement("td");m.appendChild(new s(">>","nextClick")),p.appendChild(m),h.appendChild(p);for(var p=document.createElement("tr"),f=0;7>f;f++){var b="SMTWTFS",m=document.createElement("td");m.style.width="24.3px",m.innerHTML=b[f],p.appendChild(m)}h.appendChild(p),o.appendChild(h);document.createElement("table");i.appendChild(l),document.body.appendChild(i),t();for(var v=document.querySelectorAll("input#datepicker,input.datepicker"),f=0;f<v.length;f++)v[f].readOnly="true",v[f].addEventListener("click",function(e){d=e.target,dateObject.getDate(e.target),g.innerHTML=dateObject.getLongMonth()+" "+dateObject.getYear(),i.style.top=10+e.target.offsetHeight+e.target.offsetTop+"px",i.style.left=e.target.offsetLeft+"px",i.style.display="block",t(),i.focus()},!0);document.body.addEventListener("click",function(e){a(e.target,i)||(i.style.display="none")},!0)}var dateObject={date:new Date,getDate:function(e){return""!=e.value.trim()?this.date=new Date(e.value.substr(0,4),this.shortMonths.indexOf(e.value.substr(5,3)),1):this.date=new Date,this.date},monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],getYear:function(){return this.date.getFullYear()},getMonth:function(){return this.date.getMonth()},getFirstDayOfMonth:function(){return new Date(this.getYear(),this.getMonth(),1).toString().substr(0,3)},getDayOfWeekMonthStarts:function(){return 1+this.daysOfWeek.indexOf(this.getFirstDayOfMonth())},getNumdays:function(){return new Date(this.getYear(),this.getMonth()+1,0).getDate()},setDate:function(e){this.date=new Date(this.date.setDate(e))},getLongMonth:function(){return this.monthsOfYear[this.getMonth()]}};